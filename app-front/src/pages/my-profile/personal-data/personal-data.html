<ion-header>
  <ion-toolbar>
    <ion-title>
      {{ "ABOUT_ME" | translate }}
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        {{ "CLOSE" | translate }}
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>

  <form #personalData="ngForm" (submit)="save(personalData, $event)">

    <ion-item-group>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{ "NAME" | translate}}</ion-label>
            <ion-input [(ngModel)]="display_name" name="display_name" type="text"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{ "TELEPHONE" | translate }}</ion-label>
            <ion-input [(ngModel)]="telefone.value" name="telefone" type="telefone"></ion-input>

            <ion-select name="visibility" [(ngModel)]="telefone.visibility" interface="popover">
              <ion-option *ngFor="let item of visibility" [value]="item.value">
                {{item.option}}
              </ion-option>
            </ion-select>

          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{ "EMAIL" | translate }}</ion-label>
            <ion-input [(ngModel)]="user_email" name="user_email" [email]="true" type="email"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-item-group>

    <ion-item>
      <ion-label stacked>{{ "BIOGRAPHY" | translate }}</ion-label>
      <ion-textarea [(ngModel)]="biography.value" name="biography" type="text"></ion-textarea>
    </ion-item>

    <ion-item-group *ngIf="type < 3">
      <!-- Dados para pessoas físicas -->
      <ion-row>
        <ion-col>
          <ion-item>

            <ion-label stacked>{{ "BIRTHDATE" | translate }}</ion-label>

            <ion-input name="birthdate" type="date" displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY" [(ngModel)]="birthdate.value"></ion-input>

            <ion-select name="visibility" [(ngModel)]="birthdate.visibility" interface="popover">
              <ion-option *ngFor="let item of visibility" [value]="item.value">
                {{item.option}}
              </ion-option>
            </ion-select>

          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{ "CPF" | translate }}</ion-label>
            <ion-input [(ngModel)]="cpf.value" name="cpf" type="text" pattern="[0-9]+"></ion-input>

            <ion-select [(ngModel)]="cpf.visibility" name="visibility" interface="popover">
              <ion-option *ngFor="let item of visibility" [value]="item.value">
                {{item.option}}
              </ion-option>
            </ion-select>

          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{ "RG" | translate }}</ion-label>
            <ion-input [(ngModel)]="rg.value" name="rg" type="text" pattern="[0-9]+"></ion-input>

            <ion-select [(ngModel)]="rg.visibility" name="visibility" interface="popover">
              <ion-option *ngFor="let item of visibility" [value]="item.value">
                {{item.option}}
              </ion-option>
            </ion-select>

          </ion-item>
        </ion-col>
      </ion-row>

    </ion-item-group>

    <ion-item-group *ngIf="type >= 3">
      <!-- Dados para pessoas jurídicas -->
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>{{ "CNPJ" | translate }}</ion-label>
            <ion-input [(ngModel)]="cnpj.value" name="cnpj" type="text" pattern=""></ion-input>

            <ion-select [(ngModel)]="cnpj.visibility" name="visibility" interface="popover">
              <ion-option *ngFor="let item of visibility" [value]="item.value">
                {{item.option}}
              </ion-option>
            </ion-select>

          </ion-item>
        </ion-col>
      </ion-row>

    </ion-item-group>


    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label stacked>{{ "ADDRESS" | translate }}</ion-label>
          <ion-input [(ngModel)]="address.value" name="address" type="text"></ion-input>

          <ion-select [(ngModel)]="address.visibility" name="visibility" interface="popover">
            <ion-option *ngFor="let item of visibility" [value]="item.value">
              {{item.option}}
            </ion-option>
          </ion-select>

        </ion-item>
      </ion-col>
      <ion-col col-4>
        <ion-item>
          <ion-label stacked>{{ "ZIPCODE" | translate}}</ion-label>
          <ion-input [(ngModel)]="zipcode.value" name="zipcode" type="text" pattern="[0-9]{5}-[0-9]{3}" full></ion-input>

          <ion-select [(ngModel)]="zipcode.visibility" name="visibility" interface="popover">
            <ion-option *ngFor="let item of visibility" [value]="item.value">
              {{item.option}}
            </ion-option>
          </ion-select>

        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>

      <ion-col col-6>
        <ion-item>
          <ion-label stacked>{{ "NEIGHBORNHOOD" | translate}}</ion-label>
          <ion-input [(ngModel)]="neighbornhood.value" name="neighborhood" type="text" full></ion-input>

          <ion-select [(ngModel)]="neighbornhood.visibility" name="visibility" interface="popover">
            <ion-option *ngFor="let item of visibility" [value]="item.value">
              {{item.option}}
            </ion-option>
          </ion-select>

        </ion-item>
      </ion-col>

      <ion-col col-6>
        <ion-item>
          <ion-label stacked>{{ "CITY" | translate}}</ion-label>
          <ion-input [(ngModel)]="city.value" name="city" type="text"></ion-input>

          <ion-select [(ngModel)]="city.visibility" name="visibility" interface="popover">
            <ion-option *ngFor="let item of visibility" [value]="item.value">
              {{item.option}}
            </ion-option>
          </ion-select>

        </ion-item>
      </ion-col>

    </ion-row>

    <ion-row>
      <ion-col col-4>
        <ion-item>
          <ion-label>{{ "STATE" | translate }}</ion-label>
          <ion-select [(ngModel)]="state.value" name="state" full>
            <ion-option *ngFor="let item of $statesList" [value]="item" [selected]="state.value == item">
              {{item}}
            </ion-option>
          </ion-select>

          <ion-select class="flutuante" [(ngModel)]="state.visibility" name="visibility" interface="popover">
            <ion-option *ngFor="let item of visibility" [value]="item.value">
              {{item.option}}
            </ion-option>
          </ion-select>

        </ion-item>
      </ion-col>

      <ion-col col-4>
        <ion-item>
          <ion-label stacked>{{ "COUNTRY" | translate}}</ion-label>
          <ion-input [(ngModel)]="country.value" name="country" pattern="[^0-9]+" type="text"></ion-input>

          <ion-select [(ngModel)]="country.visibility" name="visibility" interface="popover">
            <ion-option *ngFor="let item of visibility" [value]="item.value">
              {{item.option}}
            </ion-option>
          </ion-select>

        </ion-item>
      </ion-col>

    </ion-row>

    <ion-item>
      <button type="submit" ion-button full>{{'SAVE' | translate}}</button>
    </ion-item>

  </form>

</ion-content>
